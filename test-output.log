ğŸ” PM-App Authentication & Permissions Test Suite
============================================================
Testing comprehensive multi-user permission scenarios...

Test Scenario Overview:
1. Create 3 users with different roles
2. Create multiple workspaces
3. Cross-invite users between workspaces
4. Create projects and add members with different roles
5. Create tasks and test permission boundaries
6. Verify all permission constraints are enforced

\n============================================================
ğŸ” ğŸš€ Starting Comprehensive Authentication & Permissions Test Suite
============================================================
\nğŸ“‹ User Registration Tests
----------------------------------------
â„¹ï¸  Running: Register Admin User
âŒ âœ— Register Admin User: Registration failed: User already exists with this email
â„¹ï¸  Running: Register Member One
âŒ âœ— Register Member One: Registration failed: User already exists with this email
â„¹ï¸  Running: Register Member Two
âŒ âœ— Register Member Two: Registration failed: User already exists with this email
\nğŸ“‹ User Login Tests
----------------------------------------
â„¹ï¸  Running: Login Admin User
âŒ âœ— Login Admin User: Cannot set properties of undefined (setting 'token')
â„¹ï¸  Running: Login Member One
âŒ âœ— Login Member One: Cannot set properties of undefined (setting 'token')
â„¹ï¸  Running: Login Member Two
âŒ âœ— Login Member Two: Cannot set properties of undefined (setting 'token')
\nğŸ“‹ Workspace Creation Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin creates shared workspace
âŒ âœ— Admin creates shared workspace: Workspace creation failed: Authentication required
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 creates personal workspace
âŒ âœ— Member2 creates personal workspace: Workspace creation failed: Authentication required
\nğŸ“‹ Workspace Invitation Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin invites Member One to shared workspace
âŒ âœ— Admin invites Member One to shared workspace: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Running: Admin invites Member Two to shared workspace
âŒ âœ— Admin invites Member Two to shared workspace: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 invites Member1 to personal workspace
âŒ âœ— Member2 invites Member1 to personal workspace: Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Invitation Acceptance Tests
----------------------------------------
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Get pending invitations for Member One
âŒ âœ— Get pending invitations for Member One: Unexpected token '<', "<!DOCTYPE "... is not valid JSON
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Get pending invitations for Member Two
âŒ âœ— Get pending invitations for Member Two: Unexpected token '<', "<!DOCTYPE "... is not valid JSON
\nğŸ“‹ Project Creation Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin creates project in shared workspace
âŒ âœ— Admin creates project in shared workspace: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 creates project in personal workspace
âŒ âœ— Member2 creates project in personal workspace: Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Project Member Management Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin adds Member One as MEMBER to shared project
âŒ âœ— Admin adds Member One as MEMBER to shared project: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Running: Admin adds Member Two as MANAGER to shared project
âŒ âœ— Admin adds Member Two as MANAGER to shared project: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 adds Member1 to personal project
âŒ âœ— Member2 adds Member1 to personal project: Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Task Creation Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin creates task: Admin Task 1 - Setup Project Structure
âŒ âœ— Admin creates task: Admin Task 1 - Setup Project Structure: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Running: Admin creates task: Admin Task 2 - Design Review
âŒ âœ— Admin creates task: Admin Task 2 - Design Review: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 creates task in personal project
âŒ âœ— Member2 creates task in personal project: Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Workspace Permission Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Permission test: Admin accessing owned workspace
âŒ âœ— Permission test: Admin accessing owned workspace: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Permission test: Member1 accessing shared workspace (invited)
âŒ âœ— Permission test: Member1 accessing shared workspace (invited): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Permission test: Member1 accessing Member2 workspace (invited)
âŒ âœ— Permission test: Member1 accessing Member2 workspace (invited): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Permission test: Admin accessing Member2 workspace (not invited)
âŒ âœ— Permission test: Admin accessing Member2 workspace (not invited): Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Project Permission Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Permission test: Admin accessing owned project
âŒ âœ— Permission test: Admin accessing owned project: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Permission test: Member1 accessing shared project (member)
âŒ âœ— Permission test: Member1 accessing shared project (member): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Permission test: Member2 updating shared project (manager role)
âŒ âœ— Permission test: Member2 updating shared project (manager role): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Permission test: Member1 viewing Member2 project (viewer role)
âŒ âœ— Permission test: Member1 viewing Member2 project (viewer role): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Permission test: Member1 updating Member2 project (viewer role - should fail)
âŒ âœ— Permission test: Member1 updating Member2 project (viewer role - should fail): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Permission test: Admin accessing Member2 project (not invited)
âŒ âœ— Permission test: Admin accessing Member2 project (not invited): Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Task Permission Tests
----------------------------------------
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Task permission: Member1 viewing assigned task
âŒ âœ— Task permission: Member1 viewing assigned task: Cannot read properties of undefined (reading '0')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Task permission: Member1 updating assigned task
âŒ âœ— Task permission: Member1 updating assigned task: Cannot read properties of undefined (reading '0')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Task permission: Member1 viewing other task in same project
âŒ âœ— Task permission: Member1 viewing other task in same project: Cannot read properties of undefined (reading '1')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Task permission: Member1 viewing task in Member2 project (viewer)
âŒ âœ— Task permission: Member1 viewing task in Member2 project (viewer): Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member One (member1)
â„¹ï¸  Running: Task permission: Member1 updating task in Member2 project (viewer - should fail)
âŒ âœ— Task permission: Member1 updating task in Member2 project (viewer - should fail): Cannot read properties of undefined (reading 'id')
\nğŸ“‹ Cleanup and Verification Tests
----------------------------------------
â„¹ï¸  Switched to user: Admin User (admin)
â„¹ï¸  Running: Admin deletes shared workspace
âŒ âœ— Admin deletes shared workspace: Cannot read properties of undefined (reading 'id')
â„¹ï¸  Switched to user: Member Two (member2)
â„¹ï¸  Running: Member2 deletes personal workspace
âŒ âœ— Member2 deletes personal workspace: Cannot read properties of undefined (reading 'id')
\n============================================================
ğŸ” ğŸ“Š Test Results Summary
============================================================
Total API Calls: 10
Tests Passed: 0
Tests Failed: 38
Success Rate: 0.0%
\nğŸ“‹ Detailed Test Results:
============================================================
1. âŒ Register Admin User
   Error: Registration failed: User already exists with this email
2. âŒ Register Member One
   Error: Registration failed: User already exists with this email
3. âŒ Register Member Two
   Error: Registration failed: User already exists with this email
4. âŒ Login Admin User
   Error: Cannot set properties of undefined (setting 'token')
5. âŒ Login Member One
   Error: Cannot set properties of undefined (setting 'token')
6. âŒ Login Member Two
   Error: Cannot set properties of undefined (setting 'token')
7. âŒ Admin creates shared workspace
   Error: Workspace creation failed: Authentication required
8. âŒ Member2 creates personal workspace
   Error: Workspace creation failed: Authentication required
9. âŒ Admin invites Member One to shared workspace
   Error: Cannot read properties of undefined (reading 'id')
10. âŒ Admin invites Member Two to shared workspace
   Error: Cannot read properties of undefined (reading 'id')
11. âŒ Member2 invites Member1 to personal workspace
   Error: Cannot read properties of undefined (reading 'id')
12. âŒ Get pending invitations for Member One
   Error: Unexpected token '<', "<!DOCTYPE "... is not valid JSON
13. âŒ Get pending invitations for Member Two
   Error: Unexpected token '<', "<!DOCTYPE "... is not valid JSON
14. âŒ Admin creates project in shared workspace
   Error: Cannot read properties of undefined (reading 'id')
15. âŒ Member2 creates project in personal workspace
   Error: Cannot read properties of undefined (reading 'id')
16. âŒ Admin adds Member One as MEMBER to shared project
   Error: Cannot read properties of undefined (reading 'id')
17. âŒ Admin adds Member Two as MANAGER to shared project
   Error: Cannot read properties of undefined (reading 'id')
18. âŒ Member2 adds Member1 to personal project
   Error: Cannot read properties of undefined (reading 'id')
19. âŒ Admin creates task: Admin Task 1 - Setup Project Structure
   Error: Cannot read properties of undefined (reading 'id')
20. âŒ Admin creates task: Admin Task 2 - Design Review
   Error: Cannot read properties of undefined (reading 'id')
21. âŒ Member2 creates task in personal project
   Error: Cannot read properties of undefined (reading 'id')
22. âŒ Permission test: Admin accessing owned workspace
   Error: Cannot read properties of undefined (reading 'id')
23. âŒ Permission test: Member1 accessing shared workspace (invited)
   Error: Cannot read properties of undefined (reading 'id')
24. âŒ Permission test: Member1 accessing Member2 workspace (invited)
   Error: Cannot read properties of undefined (reading 'id')
25. âŒ Permission test: Admin accessing Member2 workspace (not invited)
   Error: Cannot read properties of undefined (reading 'id')
26. âŒ Permission test: Admin accessing owned project
   Error: Cannot read properties of undefined (reading 'id')
27. âŒ Permission test: Member1 accessing shared project (member)
   Error: Cannot read properties of undefined (reading 'id')
28. âŒ Permission test: Member2 updating shared project (manager role)
   Error: Cannot read properties of undefined (reading 'id')
29. âŒ Permission test: Member1 viewing Member2 project (viewer role)
   Error: Cannot read properties of undefined (reading 'id')
30. âŒ Permission test: Member1 updating Member2 project (viewer role - should fail)
   Error: Cannot read properties of undefined (reading 'id')
31. âŒ Permission test: Admin accessing Member2 project (not invited)
   Error: Cannot read properties of undefined (reading 'id')
32. âŒ Task permission: Member1 viewing assigned task
   Error: Cannot read properties of undefined (reading '0')
33. âŒ Task permission: Member1 updating assigned task
   Error: Cannot read properties of undefined (reading '0')
34. âŒ Task permission: Member1 viewing other task in same project
   Error: Cannot read properties of undefined (reading '1')
35. âŒ Task permission: Member1 viewing task in Member2 project (viewer)
   Error: Cannot read properties of undefined (reading 'id')
36. âŒ Task permission: Member1 updating task in Member2 project (viewer - should fail)
   Error: Cannot read properties of undefined (reading 'id')
37. âŒ Admin deletes shared workspace
   Error: Cannot read properties of undefined (reading 'id')
38. âŒ Member2 deletes personal workspace
   Error: Cannot read properties of undefined (reading 'id')
\n============================================================
ğŸ” ğŸ¯ Test Context Summary
============================================================
Created Users:
\nCreated Workspaces:
\nCreated Projects:
\n============================================================
ğŸ” âš ï¸  Some Tests Failed
============================================================
Please review the failed tests and fix the underlying issues.
